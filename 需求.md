### **Python 飞机大战游戏需求文档**

#### 1. 项目概述

- **项目名称**：Python 飞机大战（简易版）
- **开发目标**：使用 Python 的 Pygame 库开发一款经典 2D 平面射击游戏，玩家控制飞机击落敌机，获取分数并生存。
- **技术栈**：Python 3.x + Pygame 库

#### 2. 游戏核心玩法

- **玩家控制**：玩家通过键盘方向键（↑↓←→）控制己方飞机移动，按空格键发射子弹。
- **敌机系统**：随机生成不同类型的敌机（如小型机、中型机），敌机沿屏幕向下移动，部分敌机可能发射子弹。
- **战斗规则**：
  - 玩家子弹击中敌机后，敌机销毁，玩家获得对应分数（小型机 10 分，中型机 30 分）。
  - 敌机与玩家飞机碰撞，或敌机飞出屏幕底部，玩家生命值减少（初始生命值 3 条）。
  - 玩家生命值归 0 时，游戏结束，显示最终得分。
- **胜利条件**：尽可能获得高分，生存更久；无明确“通关”，以分数排名为目标。

#### 3. 核心功能模块

##### 3.1 玩家飞机模块

- **属性**：
  - 位置（x, y 坐标）
  - 移动速度（可配置，如 5 像素/帧）
  - 生命值（初始 3 条）
  - 飞机图片（建议使用矩形或简易图片替代，支持后续替换）
  - 子弹冷却时间（避免连续发射，如 0.2 秒/发）
- **方法**：
  - 键盘事件监听（移动、发射）
  - 子弹发射（创建子弹对象）
  - 碰撞检测（与敌机、敌机子弹）
  - 生命值减少与死亡判定

##### 3.2 敌机模块

- **属性**：
  - 类型（小型/中型，区分大小、血量、分数）
  - 位置（x, y 坐标，x 随机生成，y 从屏幕顶部进入）
  - 移动速度（小型机快，中型机慢）
  - 生命值（小型机 1 点，中型机 2 点）
  - 飞机图片（区分类型）
- **方法**：
  - 自动移动（向下或随机左右移动）
  - 随机发射子弹（中型机概率更高）
  - 被击中判定（生命值减为 0 时销毁）

##### 3.3 子弹模块

- **属性**：
  - 所属方（玩家/敌机）
  - 位置（x, y 坐标，从发射方中心发出）
  - 移动速度（玩家子弹向上，敌机子弹向下，速度固定）
  - 子弹图片（简易图形，如黄色/红色小点）
- **方法**：
  - 自动移动（沿固定方向）
  - 边界检测（超出屏幕后销毁）
  - 碰撞检测（与敌方单位碰撞后销毁）

##### 3.4 游戏逻辑模块

- **初始化**：
  - 游戏窗口（如 800x600 像素）
  - 玩家飞机、初始敌机、分数、生命值等参数
  - 游戏时钟（控制帧率，如 60 帧/秒）
- **事件处理**：
  - 键盘输入监听（移动、发射、退出游戏）
  - 敌机生成（定时随机生成，难度随分数增加）
- **更新与渲染**：
  - 所有元素位置更新（飞机、子弹）
  - 碰撞检测与逻辑处理（销毁、计分、减血）
  - 屏幕渲染（背景、飞机、子弹、分数、生命值显示）
- **游戏状态管理**：
  - 运行中、游戏结束状态切换
  - 游戏结束界面（显示最终分数，支持重新开始）

#### 4. 开发要求

- **代码规范**：
  - 使用面向对象编程（Player, Enemy, Bullet, Game 等类）
  - 代码注释清晰，模块功能划分明确
  - 变量/函数命名符合 Python 规范（小写+下划线）
- **资源处理**：
  - 图片资源：初期可用 Pygame 绘制简易图形（如玩家机为蓝色矩形，敌机为红色矩形），预留替换真实图片的接口（如`images/`文件夹）。
  - 音效：可选（如子弹发射、爆炸音效），初期可省略。
- **兼容性**：支持 Windows/macOS 系统，Python 3.8+环境。

#### 5. 扩展建议（可选实现）

- 道具系统（如加血、子弹强化、护盾）
- 敌机波次攻击（固定时间生成一波密集敌机）
- 分数排行榜（本地存储最高分数）
- 游戏难度随时间提升（敌机速度/数量增加）
