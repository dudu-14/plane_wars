Python 飞机大战游戏 1.1.0 版需求文档
\*\*

1. 项目概述
   1.1 项目名称
   Python 飞机大战（1.1.0 版）
   1.2 开发目标
   在 1.0.0 版基础上，新增音效系统和道具系统，提升游戏沉浸感与策略性，仍使用 Python 3.x + Pygame 库开发。
   1.3 技术栈
   Python 3.x
   Pygame 库（负责游戏逻辑、图形渲染及音效播放）
2. 新增核心功能
   2.1 音效系统
   2.1.1 音效类型及触发场景
   玩家操作音效
   发射子弹：按下空格键时播放，音效风格为清脆的 “咻” 声，时长约 0.1 秒。
   移动飞机：无（避免频繁触发导致听觉疲劳）。
   战斗音效
   敌机被击中：敌机生命值减少时播放，小型机为短促 “噗” 声，中型机为稍长 “嘭” 声。
   敌机爆炸：敌机被摧毁时播放，时长 0.3-0.5 秒，声音比击中音效更厚重。
   玩家被击中：玩家飞机与敌机或敌机子弹碰撞时播放，为低沉 “咚” 声，时长 0.2 秒。
   道具音效
   道具拾取：玩家获取道具时播放，为轻快 “叮” 声，时长 0.2 秒。
   状态音效
   游戏开始：进入游戏主界面时播放，为激昂的短音乐段，时长 1-2 秒。
   游戏结束：玩家生命值归 0 时播放，为低沉的长音，时长 1.5 秒。
   2.1.2 音效控制
   支持音量调节，默认音量为 70%（0-100% 范围）。
   预留全局静音开关接口，可通过代码配置开启 / 关闭所有音效。
   2.1.3 资源处理
   音效文件格式为.wav 或.mp3，存放于 audio/文件夹。
   初期可使用简易音效素材，预留替换接口，文件命名规范如下：
   子弹发射：shot.wav
   敌机击中（小型）：hit_small.wav
   敌机击中（中型）：hit_medium.wav
   敌机爆炸：explosion.wav
   玩家被击中：player_hit.wav
   道具拾取：item_pick.wav
   游戏开始：start.wav
   游戏结束：game_over.wav
   2.2 道具系统
   2.2.1 道具类型及属性
   加血道具
   外观：绿色十字图形，大小为 20x20 像素。
   效果：玩家生命值 + 1（上限为 5，初始上限 3，可通过该道具提升）。
   出现概率：15%，在击落中型敌机时有更高概率掉落。
   移动速度：2 像素 / 帧，沿屏幕向下移动。
   子弹强化道具
   外观：黄色星形图形，大小为 20x20 像素。
   效果：10 秒内玩家子弹变为双发（左右各一发），子弹伤害不变。
   出现概率：20%，击落小型敌机和中型敌机均可能掉落。
   移动速度：2 像素 / 帧，沿屏幕向下移动。
   护盾道具
   外观：蓝色圆形图形，大小为 20x20 像素。
   效果：为玩家提供一层护盾，可抵挡一次敌机或敌机子弹的攻击，护盾持续时间 30 秒，若未被攻击则自动消失。
   出现概率：10%，仅在击落中型敌机时有概率掉落。
   移动速度：2 像素 / 帧，沿屏幕向下移动。
   2.2.2 道具生成与获取
   道具从敌机被击落的位置生成，随机向左右轻微偏移。
   玩家飞机与道具碰撞时获取道具，同时触发道具音效。
   道具若未被玩家获取，超出屏幕底部后自动销毁。
   2.2.3 道具状态显示
   子弹强化和护盾道具生效时，在屏幕右上角显示对应的图标及剩余时间（以秒为单位）。
   加血道具获取后，在生命值显示处有 + 1 的动画提示（如数字短暂变大后恢复正常）。
3. 原有功能优化
   3.1 玩家飞机模块
   生命值上限从固定 3 条改为可通过加血道具提升，最高 5 条。
   新增护盾状态属性，当护盾存在时，碰撞检测优先消耗护盾，不减少生命值。
   3.2 子弹模块
   玩家子弹新增双发模式（子弹强化道具生效时），左右两发子弹间距为 30 像素。
   3.3 游戏逻辑模块
   新增音效播放控制逻辑，在对应事件触发时调用音效播放函数。
   新增道具生成定时器，根据敌机类型和击落情况随机生成道具。
   优化游戏状态显示，加入道具效果的剩余时间显示。
4. 开发要求
   4.1 代码规范
   在原有类基础上新增 Sound 类（负责音效加载与播放）和 Item 类（道具基类，衍生出不同类型道具子类）。
   新增代码需与原有代码风格保持一致，变量 / 函数命名符合 Python 规范，注释清晰。
   4.2 资源兼容性
   音效资源需确保在 Windows 和 macOS 系统下均可正常播放。
   道具图片资源可使用 Pygame 绘制简易图形，预留 images/items/文件夹用于存放自定义图片。
   4.3 性能要求
   音效播放不影响游戏帧率（保持 60 帧 / 秒）。
   道具生成和状态判断逻辑需高效，避免出现卡顿现象。
5. 扩展建议（可选实现）
   新增更多道具类型，如全屏炸弹（清除当前屏幕所有敌机）、速度提升道具等。
   音效系统增加背景音乐，可单独控制背景音乐音量。
   道具效果可叠加，如同时拥有子弹强化和速度提升效果。
