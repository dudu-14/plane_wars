# 变更日志

本文档记录了飞机大战游戏项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 计划中的功能

- [ ] 背景音乐系统
- [ ] 粒子效果系统
- [ ] 更多敌机类型
- [ ] 本地分数排行榜
- [ ] 游戏设置菜单

## [1.1.0] - 2025-07-13

### 🎮 新增功能

- **道具系统** - 完整的道具掉落和效果系统
  - ❤️ 加血道具：恢复玩家生命值（绿色十字）
  - ⚡ 子弹强化道具：激活双发子弹效果 10 秒（黄色星形）
  - 🛡️ 护盾道具：提供伤害抵挡效果 30 秒（蓝色圆形）
- **生命值系统** - 新的健康管理机制
  - 玩家初始生命值：3 点
  - 最大生命值上限：5 点
  - 护盾优先抵挡伤害
- **增强音效系统** - 丰富的游戏音效
  - 🔫 发射子弹音效（清脆"咻"声）
  - 💥 敌机被击中音效（小型"噗"声，中型"嘭"声）
  - 💣 敌机爆炸音效（厚重爆炸声）
  - 😵 玩家被击中音效（低沉"咚"声）
  - ✨ 道具拾取音效（轻快"叮"声）
  - 🎵 游戏开始音效（激昂短音乐段）
  - 😢 游戏结束音效（低沉长音）

### ⚡ 功能增强

- **双发子弹模式** - 道具激活时同时发射两颗子弹
- **护盾效果** - 可视化护盾显示，优先抵挡伤害
- **道具效果状态显示** - 实时显示道具剩余时间
- **音效优化** - 程序生成音效，无需外部文件
- **UI 增强** - 显示生命值和道具状态

### 🔧 技术改进

- 模块化道具系统设计（item.py）
- 音效管理器重构和扩展
- 玩家类功能扩展（护盾、双发、生命值）
- 碰撞检测系统优化
- 游戏状态管理增强

### 📋 道具掉落概率

- **小型敌机**：5%加血道具，20%子弹强化道具
- **中型敌机**：15%加血道具，20%子弹强化道具，10%护盾道具

## [1.0.0] - 2025-07-13

### 新增功能 ✨

- **核心游戏系统**

  - 完整的飞机大战游戏实现
  - 面向对象的代码架构
  - 玩家飞机控制系统（方向键移动）
  - 两种敌机类型（小型和中型）
  - 子弹系统（玩家和敌机子弹）
  - 完整的碰撞检测系统
  - 分数和生命值系统

- **自动发射系统** 🔥

  - 每秒 1000 发子弹的超高频发射
  - 自动发射模式，无需手动按键
  - 可配置的发射间隔

- **无敌模式** 🛡️

  - 9999999999 生命值设置
  - 智能 UI 显示（显示为无敌状态）
  - 基本不可能死亡的游戏体验

- **音效系统** 🔊

  - 程序化音效生成（无需外部文件）
  - 射击音效
  - 敌机击杀音效
  - 玩家受击音效
  - 敌机出现音效
  - 音量控制和开关功能

- **兼容性字体系统** 📝

  - 多种字体渲染方案
  - 图形替代显示模式
  - 跨平台字体兼容性

- **完整的 UI 系统**
  - 实时分数显示
  - 生命值显示
  - 操作提示
  - 游戏结束界面
  - 重新开始功能

### 技术特性 🔧

- **代码质量**

  - 完整的类型注解（Type Hints）
  - 详细的文档字符串（Google Style）
  - PEP 8 代码规范
  - 模块化设计

- **性能优化**

  - 高效的碰撞检测
  - 对象生命周期管理
  - 60 FPS 稳定帧率

- **可扩展性**
  - 配置文件集中管理
  - 清晰的类继承结构
  - 事件驱动架构

### 文档 📚

- **用户文档**

  - README.md - 项目介绍和使用说明
  - 游戏操作指南
  - 安装和运行说明

- **开发者文档**
  - DEVELOPER_GUIDE.md - 完整的开发者指南
  - API_REFERENCE.md - API 参考文档
  - CHANGELOG.md - 变更日志
  - 代码架构说明
  - 扩展开发指南

### 测试工具 🧪

- test_font.py - 字体兼容性测试
- test_game.py - 游戏组件测试
- 调试和性能分析工具

### 配置管理 ⚙️

- config.py - 集中的配置管理
- 分类清晰的配置参数
- 易于调整的游戏平衡性参数

## [0.3.0] - 开发阶段

### 新增

- 音效系统基础框架
- SoundManager 类实现
- 程序化音效生成

### 修改

- 优化碰撞检测性能
- 改进 UI 渲染逻辑

## [0.2.0] - 开发阶段

### 新增

- 无敌模式实现
- 生命值显示优化
- 自动发射系统

### 修改

- 玩家生命值从 3 改为 9999999999
- 子弹发射冷却时间从 0.2 秒改为 0.001 秒
- UI 显示逻辑优化

### 修复

- 字体渲染兼容性问题
- 游戏重启功能 bug

## [0.1.0] - 开发阶段

### 新增

- 基础游戏框架
- Player、Enemy、Bullet 类
- 基本的游戏循环
- 简单的碰撞检测
- 基础 UI 显示

### 技术债务

- 字体兼容性问题
- 音效系统缺失
- 配置管理不完善

---

## 版本说明

### 版本号格式

使用语义化版本号：`主版本号.次版本号.修订号`

- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 变更类型

- **新增** (Added) - 新功能
- **修改** (Changed) - 对现有功能的变更
- **弃用** (Deprecated) - 即将移除的功能
- **移除** (Removed) - 已移除的功能
- **修复** (Fixed) - 问题修复
- **安全** (Security) - 安全相关的修复

### 发布周期

- **主版本**：重大功能更新或架构变更
- **次版本**：新功能添加，每月发布
- **修订版本**：Bug 修复，按需发布

---

**维护者**: AI Assistant  
**项目开始**: 2025-01-13  
**最后更新**: 2025-01-13
