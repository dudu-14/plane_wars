# 飞机大战游戏

一个使用 Python 和 Pygame 开发的经典 2D 射击游戏。玩家控制飞机与敌机战斗，通过击毁敌机获得分数。

## 游戏特性

- **经典射击玩法**: 使用方向键控制飞机移动，支持自动发射子弹（每秒 1000 发）
- **多种敌机类型**: 小型敌机和中型敌机，具有不同的属性和分数
- **无敌模式**: 玩家拥有 9999999999 条生命，基本无敌状态
- **动态难度**: 敌机会随机生成，中型敌机发射子弹的概率更高
- **碰撞检测**: 精确的碰撞检测系统
- **游戏重启**: 游戏结束后可以按 R 键重新开始

## 系统要求

- Python 3.8 或更高版本
- Pygame 2.0 或更高版本

## 安装和运行

1. **克隆或下载项目**

   ```bash
   git clone <repository-url>
   cd plane_wars
   ```

2. **安装依赖**

   ```bash
   pip install -r requirements.txt
   ```

3. **运行游戏**
   ```bash
   python src/main.py
   ```

## 游戏操作

- **移动**: 使用方向键 ↑↓←→ 控制飞机移动
- **射击**: 自动发射子弹（每秒 1000 发，无需按键）
- **重新开始**: 游戏结束后按 R 键重新开始
- **退出**: 点击窗口关闭按钮或按 Alt+F4 退出游戏

## 游戏界面说明

### 正常显示模式

如果系统支持字体渲染，游戏将显示：

- 左上角：当前分数 (Score: XXX)
- 左上角下方：剩余生命 (Lives: ∞ (INVINCIBLE))
- 底部：操作提示 (Arrow keys to move, Auto-firing 1000 bullets/sec)
- 游戏结束时：GAME OVER 界面和最终分数（但基本不会游戏结束）

### 兼容模式

如果系统不支持字体渲染，游戏将使用图形替代：

- 分数：白色矩形框内的小矩形数量表示分数（每 10 分一个小矩形）
- 生命值：红色矩形表示剩余生命数
- 游戏结束：红色大矩形表示游戏结束，绿色矩形表示重新开始提示

## 游戏规则

### 得分系统

- 击毁小型敌机: +10 分
- 击毁中型敌机: +30 分

### 生命系统

- 玩家初始有 9999999999 条生命（无敌模式）
- 以下情况会失去生命（但基本无影响）:
  - 被敌机子弹击中
  - 与敌机发生碰撞
  - 敌机飞出屏幕底部（逃脱）

### 敌机类型

- **小型敌机**: 移动速度快，生命值 1，发射子弹概率低
- **中型敌机**: 移动速度慢，生命值 2，发射子弹概率高

## 项目结构

```
plane_wars/
├── main.py          # 游戏入口文件
├── game.py          # 游戏主逻辑类
├── player.py        # 玩家飞机类
├── enemy.py         # 敌机类
├── bullet.py        # 子弹类
├── config.py        # 游戏配置参数
├── requirements.txt # 项目依赖
├── README.md        # 项目说明
└── 需求.md          # 原始需求文档
```

## 代码特性

- **面向对象设计**: 使用类来组织代码，便于维护和扩展
- **类型注解**: 完整的类型注解，提高代码可读性和 IDE 支持
- **详细文档**: 每个函数都有详细的文档字符串
- **模块化设计**: 功能模块分离，职责清晰
- **配置集中管理**: 所有游戏参数集中在 config.py 中

## 扩展建议

游戏具有良好的扩展性，可以考虑添加以下功能：

- 道具系统（加血、子弹强化、护盾等）
- 音效和背景音乐
- 更多敌机类型和 BOSS
- 粒子效果和爆炸动画
- 分数排行榜
- 游戏难度设置
- 真实的图片资源替换简单图形

## 📁 项目结构

```
plane_wars/
├── src/                        # 源代码目录
│   ├── main.py                 # 游戏主入口
│   ├── game.py                 # 游戏主逻辑
│   ├── player.py               # 玩家飞机类
│   ├── enemy.py                # 敌机类
│   ├── bullet.py               # 子弹类
│   ├── sound_manager.py        # 音效管理
│   └── config.py               # 游戏配置
├── docs/                       # 文档目录
├── scripts/                    # 构建脚本目录
├── tests/                      # 测试文件目录
├── releases/                   # 发布文件目录
├── README.md                   # 项目说明
└── requirements.txt            # 依赖列表
```

详细的项目结构说明请查看 [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)

## 🚀 编译版本

本项目提供 Nuitka 编译版本，具有更好的性能：

- **下载地址**: 查看 [Releases](https://github.com/dudu-14/plane_wars/releases) 页面
- **编译指南**: 查看 [docs/NUITKA_GUIDE.md](docs/NUITKA_GUIDE.md)
- **发布文件**: 位于 `releases/release_clean/` 目录

### 快速体验编译版本

1. 下载 `PlaneWars_v1.0.0_Nuitka_Windows_x64.zip`
2. 解压后进入 `main.dist` 目录
3. 双击运行 `PlaneWars_Standalone.exe`

## 开发者信息

- 开发语言: Python 3.8+
- 游戏引擎: Pygame 2.0+
- 编译器: Nuitka 2.7.12
- 代码风格: PEP 8
- 文档风格: Google Style

## 许可证

本项目仅供学习和教育目的使用。
